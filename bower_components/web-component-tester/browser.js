!function(){"use strict";function t(t){function e(){if(i("WebComponentsReady?"),window.WebComponents&&WebComponents.whenReady)WebComponents.whenReady(function(){i("WebComponents Ready"),o()});else{var t=function t(){window.removeEventListener("WebComponentsReady",t),i("WebComponentsReady"),o()};window.addEventListener("WebComponentsReady",t)}}function n(){i("Polymer ready?"),window.Polymer&&Polymer.whenReady?Polymer.whenReady(function(){i("Polymer ready"),o()}):e()}i("whenFrameworksReady");var o=function(){i("whenFrameworksReady done"),t()};window.HTMLImports?HTMLImports.ready?(i("HTMLImports ready"),n()):HTMLImports.whenReady?HTMLImports.whenReady(function(){i("HTMLImports.whenReady ready"),n()}):e():o()}function e(t,e){return 1===t?t+" "+e+" test":t+" "+e+" tests"}function n(t,e){var n=document.createElement("script");n.src=t,e&&(n.onload=e.bind(null,null),n.onerror=e.bind(null,"Failed to load script "+n.src)),document.head.appendChild(n)}function o(t,e){var n=document.createElement("link");n.rel="stylesheet",n.href=t,e&&(n.onload=e.bind(null,null),n.onerror=e.bind(null,"Failed to load stylesheet "+n.href)),document.head.appendChild(n)}function i(t){if(v("verbose")){var e=[window.location.pathname];e.push.apply(e,arguments),(console.debug||console.log).apply(console,e)}}function r(t){var e=t.match(/^(.*?)(?:\?(.*))?$/);return{base:e[1],params:a(e[2]||"")}}function s(t,e){return e?t.match(/^(\/|https?:\/\/)/)?t:("/"!==e.substr(e.length-1)&&(e+="/"),e+t):t}function a(t){var e="string"==typeof t?t:window.location.search;if("?"===e.substring(0,1)&&(e=e.substring(1)),"/"===e.slice(-1)&&(e=e.substring(0,e.length-1)),""===e)return{};var n={};return e.split("&").forEach(function(t){var e=t.split("=");if(2!==e.length)return void console.warn("Invalid URL query part:",t);var o=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);n[o]||(n[o]=[]),n[o].push(i)}),n}function u(t,e){Object.keys(e).forEach(function(n){n in t||(t[n]=[]),t[n]=t[n].concat(e[n])})}function c(t){var e=a();return e[t]?e[t][0]:null}function d(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})}),e.length>0?"?"+e.join("&"):""}function l(t){return(t.pathname||t).match(/^.*\//)[0]}function h(t,e){var n=t.pathname||t;return 0===n.indexOf(e)&&(n=n.substring(e.length)),n}function f(t){var e=t.pathname||t;return"/index.html"===e.slice(-11)&&(e=e.slice(0,e.length-10)),e}function p(t,e,n){function o(t){r||(u+=1,a-=1,t||u>=s?(r=!0,n(t)):i())}function i(){e&&a>=e||t.length&&(a+=1,t.shift()(o))}if("number"!=typeof e&&(n=e,e=0),!t.length)return n();var r=!1,s=t.length,a=0,u=0;t.forEach(i)}function m(t){var e=document.querySelectorAll('script[src*="'+t+'"]');if(1!==e.length)return null;var n=e[0].src;return n.substring(0,n.indexOf(t))}function w(t,e){var n=r(t);u(n.params,a(e.location.search)),delete n.params.cli_browser_id,this.url=n.base+d(n.params),this.parentScope=e,this.state="initializing"}function v(t){return J[t]}function y(t,e){Object.keys(e).forEach(function(n){null===t[n]||"object"!=typeof t[n]||Array.isArray(t[n])?t[n]=e[n]:y(t[n],e[n])})}function b(t){t.forEach(function(t){if(/\.js(\?.*)?$/.test(t))Y.push(t);else{if(!/\.html(\?.*)?$/.test(t))throw new Error("Unknown resource type: "+t);Q.push(t)}})}function g(){var t=Q;if(G){for(var e,n=[],o=0;e=t[o];o++)-1!==G.indexOf(f(e))&&n.push(e);t=n}return t}function E(t,e){i("loadJsSuites",Y),p(Y.map(function(t){return n.bind($,t)}),e)}function R(t,e,n){i("runSuites");var o=[C.bind(null,t)];e.forEach(function(e){o.push(function(n){var o=new w(e,window);t.emit("childRunner start",o),o.run(function(i){t.emit("childRunner end",o),i&&t.emitOutOfBandTest(e,i),n()})})}),p(o,v("numConcurrentSuites"),function(e){t.done(),n(e)})}function C(e,n,o){if(v("waitForFrameworks")&&!o){return void(v("waitFor")||t).bind(window)(C.bind(null,e,n,!0))}i("_runMocha");var r=window.mocha,s=window.Mocha;r.reporter(e.childReporter(window.location)),r.suite.title=e.suiteTitle(window.location),r.grep(G);var a=s.prototype.run.call(r,function(t){document.getElementById("mocha")&&s.utils.highlightTags("code"),n()});navigator.userAgent.match(/chrome/i)&&(window.onerror=null,window.addEventListener("error",function(t){t.error&&(t.error.ignore||a.uncaught(t.error))}))}function x(t,e){t=t.split("\n").map(function(t){return nt+t}).join("\n"),tt?K.log("%c"+t,X[e]||X.plain):K.log(t)}function k(t,e){et?K.group("%c"+t,X[e]||X.plain):K.group?K.group(t):(nt+="  ",x(t,e))}function T(){K.groupEnd?K.groupEnd():nt=nt.substr(0,nt.length-2)}function P(t){x(t.stack||t.message||t,"stack")}function S(t){Mocha.reporters.Base.call(this,t),t.on("suite",function(t){t.root||k(t.title,"suite")}.bind(this)),t.on("suite end",function(t){t.root||T()}.bind(this)),t.on("test",function(t){k(t.title,"test")}.bind(this)),t.on("pending",function(t){k(t.title,"pending")}.bind(this)),t.on("fail",function(t,e){P(e)}.bind(this)),t.on("test end",function(t){T()}.bind(this)),t.on("end",this.logSummary.bind(this))}function M(t){var e=document.createElement("div");e.id="mocha",document.body.appendChild(e),t.on("suite",function(e){this.total=t.total}.bind(this)),Mocha.reporters.HTML.call(this,t)}function j(t,e,n){this.reporters=e.map(function(t){return new t(this)}.bind(this)),this.parent=n,this.basePath=n&&n.basePath||l(window.location),this.total=t*st,this.currentRunner=null,this.pendingEvents=[],this.emit("start")}function I(t){Mocha.reporters.Base.call(this,t),t.on("test end",this.report.bind(this))}function O(t,e,n,o,i){var r=at+2*Math.PI*(n/e),s=at+2*Math.PI*((n+o)/e);t.beginPath(),t.strokeStyle=i,t.lineWidth=ut,t.arc(16,16,16-ut/2,r,s),t.stroke()}function L(t,e){if(e)return[e.childReporter(window.location)];var n=[I,S];return t&&n.push(function(e){t.observe(e)}),(Q.length>0||Y.length>0)&&n.push(M),n}function W(t){F(S,t.reporters.Base.prototype),F(M,t.reporters.HTML.prototype),F(j,Object.getPrototypeOf(t.Runner.prototype))}function F(t,e){var n=Object.create(e);Object.keys(t.prototype).forEach(function(e){n[e]=t.prototype[e]}),t.prototype=n}function _(){B(),U()}function B(){var t=window.Mocha;if(!t)throw new Error("WCT requires Mocha. Please ensure that it is present in WCT.environmentScripts, or that you load it before loading web-component-tester/browser.js");W(t);var e=m("mocha.js");e&&window.top===window.self&&o(e+"mocha.css")}function U(){if(!window.chai)return void i("Chai not present; not registering shorthands");window.assert=window.chai.assert,window.expect=window.chai.expect}function A(t,e){dt.push(function(){var n=window.Mocha;Object.keys(n.interfaces).forEach(function(o){var i=n.interfaces[o],r="tdd"===o?"teardown":"afterEach";n.interfaces[o]=function(n){i.apply(this,arguments),n.on("pre-require",function(n,i,s){var a=n[r].bind(n);n[t]=e(n,a,o)})}})})}function N(){dt.forEach(function(t){t()})}function H(t,e,n){var o=v("mochaOptions");if(o.ui&&o.ui!==t){var i="Mixing "+o.ui+" and "+t+' Mocha styles is not supported. You called "'+e+'". Did you mean '+n+"?";throw new Error(i)}pt||(N(),o.ui=t,mocha.setup(o))}function z(t,e){this.browserId=t,this.socket=e}function D(t){for(var e=[];t&&!t.root&&t.title;)e.unshift(t.title),t=t.parent;return e}function q(t){return"passed"===t.state?"passing":"failed"==t.state?"failing":t.pending?"pending":"unknown"}var $=Object.freeze({whenFrameworksReady:t,pluralizedStat:e,loadScript:n,loadStyle:o,debug:i,parseUrl:r,expandUrl:s,getParams:a,mergeParams:u,getParam:c,paramsToQuery:d,basePath:l,relativeLocation:h,cleanLocation:f,parallel:p,scriptPrefix:m});w.loadTimeout=6e4,w._byUrl={},w.current=function(){return w.get(window)},w.get=function(t,e){var n=w._byUrl[t.location.href];return n||(window.parent===window?(e&&(console.warn("Subsuite loaded but was never registered. This most likely is due to wonky history behavior. Reloading..."),window.location.reload()),null):window.parent.WCT._ChildRunner.get(t,!0))},w.prototype.run=function(t){i("ChildRunner#run",this.url),this.state="loading",this.onRunComplete=t,this.iframe=document.createElement("iframe"),this.iframe.src=this.url,this.iframe.classList.add("subsuite");var e=document.getElementById("subsuites");e||(e=document.createElement("div"),e.id="subsuites",document.body.appendChild(e)),e.appendChild(this.iframe),this.url=this.iframe.src,w._byUrl[this.url]=this,this.timeoutId=setTimeout(this.loaded.bind(this,new Error("Timed out loading "+this.url)),w.loadTimeout),this.iframe.addEventListener("error",this.loaded.bind(this,new Error("Failed to load document "+this.url))),this.iframe.contentWindow.addEventListener("DOMContentLoaded",this.loaded.bind(this,null))},w.prototype.loaded=function(t){i("ChildRunner#loaded",this.url,t),this.iframe.contentWindow.WCT&&(this.share=this.iframe.contentWindow.WCT.share),t&&(this.signalRunComplete(t),this.done())},w.prototype.ready=function(t){i("ChildRunner#ready",this.url,t),this.timeoutId&&clearTimeout(this.timeoutId),t&&(this.signalRunComplete(t),this.done())},w.prototype.done=function(){i("ChildRunner#done",this.url,arguments),this.ready(),this.signalRunComplete(),this.iframe&&setTimeout(function(){this.iframe.parentNode.removeChild(this.iframe),this.iframe=null}.bind(this),1)},w.prototype.signalRunComplete=function(t){this.onRunComplete&&(this.state="complete",this.onRunComplete(t),this.onRunComplete=null)};var J={environmentScripts:["stacky/browser.js","async/lib/async.js","lodash/lodash.js","mocha/mocha.js","chai/chai.js","sinonjs/sinon.js","sinon-chai/lib/sinon-chai.js","accessibility-developer-tools/dist/js/axs_testing.js"],environmentImports:["test-fixture/test-fixture.html"],root:null,waitForFrameworks:!0,waitFor:null,numConcurrentSuites:1,trackConsoleError:!0,mochaOptions:{timeout:1e4},verbose:!1},Q=[],Y=[],G=c("grep");G&&(G=G.replace(/\\\./g,"."));var K=window.console,V=';font: normal 13px "Roboto", "Helvetica Neue", "Helvetica", sans-serif;',X={plain:V,suite:"color: #5c6bc0"+V,test:V,passing:"color: #259b24"+V,pending:"color: #e65100"+V,failing:"color: #c41411"+V,stack:"color: #c41411",results:V+"font-size: 16px"},Z=navigator.userAgent.toLowerCase(),tt=Z.match("firefox")||Z.match("webkit"),et=Z.match("webkit"),nt="";S.prototype.logSummary=function(){k("Test Results","results"),this.stats.failures>0&&x(e(this.stats.failures,"failing"),"failing"),this.stats.pending>0&&x(e(this.stats.pending,"pending"),"pending"),x(e(this.stats.passes,"passing")),this.stats.failures||x("test suite passed","passing"),x("Evaluated "+this.stats.tests+" tests in "+this.stats.duration+"ms."),T()};var ot=document.createElement("style");ot.textContent="html, body {  position: relative;  height: 100%;  width:  100%;  min-width: 900px;}#mocha, #subsuites {  height: 100%;  position: absolute;  top: 0;}#mocha {  box-sizing: border-box;  margin: 0 !important;  overflow-y: auto;  padding: 60px 20px;  right: 0;  left: 500px;}#subsuites {  -ms-flex-direction: column;  -webkit-flex-direction: column;  display: -ms-flexbox;  display: -webkit-flex;  display: flex;  flex-direction: column;  left: 0;  width: 500px;}#subsuites .subsuite {  border: 0;  width: 100%;  height: 100%;}#mocha .test.pass .duration {  color: #555 !important;}",document.head.appendChild(ot);var it={indent:"  ",locationStrip:[/^https?:\/\/[^\/]+/,/\?.*$/],filter:function(t){return t.location.match(/\/web-component-tester\/[^\/]+(\?.*)?$/)}},rt=["start","end","suite","suite end","test","test end","hook","hook end","pass","fail","pending","childRunner end"],st=3;j.prototype.childReporter=function(t){function e(t){t.name=n,o.bindChildRunner(t)}var n=this.suiteTitle(t),o=this;return e.title=n,e},j.prototype.done=function(){this.complete=!0,this.flushPendingEvents(),this.emit("end")},j.prototype.emitOutOfBandTest=function(t,e,n,o){i("MultiReporter#emitOutOfBandTest(",arguments,")");var r=new Mocha.Suite;r.title=n||"";var s=new Mocha.Test(t,function(){});s.parent=r,s.state=e?"failed":"passed",s.err=e,o||(this.total=this.total+st);var a={total:1};this.proxyEvent("start",a),this.proxyEvent("suite",a,r),this.proxyEvent("test",a,s),e?this.proxyEvent("fail",a,s,e):this.proxyEvent("pass",a,s),this.proxyEvent("test end",a,s),this.proxyEvent("suite end",a,r),this.proxyEvent("end",a)},j.prototype.suiteTitle=function(t){var e=h(t,this.basePath);return e=f(e)},j.prototype.bindChildRunner=function(t){rt.forEach(function(e){t.on(e,this.proxyEvent.bind(this,e,t))}.bind(this))},j.prototype.proxyEvent=function(t,e,n){var o=Array.prototype.slice.call(arguments,2);return this.complete?void console.warn("out of order Mocha event for "+e.name+":",t,o):this.currentRunner&&e!==this.currentRunner?void this.pendingEvents.push(arguments):(i("MultiReporter#proxyEvent(",arguments,")"),"fail"!==t||o[0].err||(o[0].err=o[1]),void("start"===t?this.onRunnerStart(e):"end"===t?this.onRunnerEnd(e):(this.cleanEvent(t,e,o),this.emit.apply(this,[t].concat(o)))))},j.prototype.cleanEvent=function(t,e,n){n[0]&&(n[0]=this.showRootSuite(n[0])),"fail"===t&&(n[1]=Stacky.normalize(n[1],it)),n[0]&&n[0].err&&(n[0].err=Stacky.normalize(n[0].err,it))},j.prototype.showRootSuite=function(t){for(var e=t=Object.create(t);t&&t.parent;){var n=Object.create(t.parent);t.parent=n,t=n}return t.root=!1,e},j.prototype.onRunnerStart=function(t){i("MultiReporter#onRunnerStart:",t.name),this.total=this.total-st+t.total,this.currentRunner=t},j.prototype.onRunnerEnd=function(t){i("MultiReporter#onRunnerEnd:",t.name),this.currentRunner=null,this.flushPendingEvents()},j.prototype.flushPendingEvents=function(){var t=this.pendingEvents;this.pendingEvents=[],t.forEach(function(t){this.proxyEvent.apply(this,t)}.bind(this))};var at=0,ut=6;I.prototype.report=function(){this.updateTitle(),this.updateFavicon()},I.prototype.updateTitle=function(){this.stats.failures>0?document.title=e(this.stats.failures,"failing"):document.title=e(this.stats.passes,"passing")},I.prototype.updateFavicon=function(){var t=document.createElement("canvas");t.height=t.width=32;var e=t.getContext("2d"),n=this.stats.passes,o=this.stats.pending,i=this.stats.failures,r=Math.max(this.runner.total,n+o+i);O(e,r,0,n,"#0e9c57"),O(e,r,n,o,"#f3b300"),O(e,r,o+n,i,"#ff5621"),this.setFavicon(t.toDataURL())},I.prototype.setFavicon=function(t){var e=document.head.querySelector('link[rel="icon"]');e&&document.head.removeChild(e);var n=document.createElement("link");n.rel="icon",n.type="image/x-icon",n.href=t,n.setAttribute("sizes","32x32"),document.head.appendChild(n)};var ct=[],dt=[];A("fixture",function(t,e){return t.fixture||function(t,n){return e(function(){document.getElementById(t).restore()}),document.getElementById(t).create(n)}}),A("stub",function(t,e){return function(t,n){var o=document.createElement(t).constructor.prototype,i=Object.keys(n);i.forEach(function(t){sinon.stub(o,t,n[t])}),e(function(){i.forEach(function(t){o[t].isSinonProxy&&o[t].restore()})})}});var lt={},ht=!1;A("replace",function(t,e){return function(t){return{with:function(n){if(t=t.toLowerCase(),n=n.toLowerCase(),lt[t]=n,!Polymer.Base.instanceTemplate.isSinonProxy){var o=Polymer.Base.instanceTemplate;sinon.stub(Polymer.Base,"instanceTemplate",function(t){var e=t._content||t.content,n=document.createElement("template"),i=n.content,r=i.ownerDocument;n.content.appendChild(r.importNode(e,!0));for(var s,a=document.createNodeIterator(i,NodeFilter.SHOW_ELEMENT,null,!0);s=a.nextNode();){var u=s.tagName.toLowerCase();if(lt.hasOwnProperty(u)){for(u=lt[u];lt[u];)u=lt[u];for(var c=document.createElement(u),d=0;d<s.attributes.length;++d)c.setAttribute(s.attributes[d].name,s.attributes[d].value);s.parentNode.replaceChild(c,s)}}return o.call(this,n)}),ht||e(function(){ht=!0,Polymer.Base.instanceTemplate.isSinonProxy&&Polymer.Base.instanceTemplate.restore(),lt={}})}}}}});var ft={tdd:{setup:'"before"',teardown:'"after"',suiteSetup:'"beforeEach"',suiteTeardown:'"afterEach"',suite:'"describe" or "context"',test:'"it" or "specify"'},bdd:{before:'"setup"',after:'"teardown"',beforeEach:'"suiteSetup"',afterEach:'"suiteTeardown"',describe:'"suite"',context:'"suite"',xdescribe:'"suite.skip"',xcontext:'"suite.skip"',it:'"test"',xit:'"test.skip"',specify:'"test"',xspecify:'"test.skip"'}},pt=!1,mt=window.location.protocol+"//"+window.location.host,wt=mt+"/socket.io/socket.io.js";z.prototype.observe=function(t){this.emitEvent("browser-start",{url:window.location.toString()}),t.on("test",function(t){this.emitEvent("test-start",{test:D(t)})}.bind(this)),t.on("test end",function(t){this.emitEvent("test-end",{state:q(t),test:D(t),duration:t.duration,error:t.err})}.bind(this)),t.on("fail",function(t,e){"test"!==t.type&&this.emitEvent("browser-fail","Error thrown outside of test function: "+e.stack)}.bind(this)),t.on("childRunner start",function(t){this.emitEvent("sub-suite-start",t.share)}.bind(this)),t.on("childRunner end",function(t){this.emitEvent("sub-suite-end",t.share)}.bind(this)),t.on("end",function(){this.emitEvent("browser-end")}.bind(this))},z.prototype.emitEvent=function(t,e){this.socket.emit("client-event",{browserId:this.browserId,event:t,data:e})},z.init=function(t){var e=c("cli_browser_id");return e?w.current()?t():void n(wt,function(n){if(n)return t(n);var o=io(mt);o.on("error",function(e){o.off(),t(e)}),o.on("connect",function(){o.off(),t(null,new z(e,o))})}):t()};var vt=window.setInterval,yt=window.setTimeout,bt=window.requestAnimationFrame;window.safeStep=function(t,e){var n;try{e()}catch(t){n=t}t(n)},window.testImmediate=function(t,e){if(e.length>0)return testImmediateAsync(t,e);var n;try{e()}catch(t){n=t}test(t,function(t){t(n)})},window.testImmediateAsync=function(t,e){var n,o=!1;test(t,function(t){var e=vt(function(){o&&(clearInterval(e),t(n))},10)});try{e(function(t){t&&(n=t),o=!0})}catch(t){n=t,o=!0}},window.flush=function(t){var e=function(){t()};if("Microsoft Internet Explorer"==navigator.appName&&window.Platform&&window.Platform.performMicrotaskCheckpoint){var n=e;e=function(){Platform.performMicrotaskCheckpoint(),yt(n,0)}}var o;window.Polymer&&window.Polymer.dom&&window.Polymer.dom.flush?o=window.Polymer.dom:window.Polymer&&window.Polymer.flush?o=window.Polymer:window.WebComponents&&window.WebComponents.flush&&(o=window.WebComponents),o&&o.flush(),yt(e,0)},window.animationFrameFlush=function(t){flush(function(){bt(function(){flush(t)})})},window.asyncPlatformFlush=function(t){return console.warn("asyncPlatformFlush is deprecated in favor of the more terse flush()"),window.flush(t)},window.waitFor=function t(e,n,o,i,r){r=r||Date.now()+(i||1e3),o=o||32;try{e()}catch(s){if(Date.now()>r)throw s;return void(isNaN(o)?o.onMutation(o,function(){t(e,n,o,i,r)}):yt(function(){t(e,n,o,i,r)},o))}n()},function(t){var e=w.current();if(e&&(y(J,e.parentScope.WCT._config),delete J.mochaOptions.ui),t&&"object"==typeof t&&y(J,t),!J.root){var n=m("browser.js");if(J.root=l(n.substr(0,n.length-1)),!J.root)throw new Error("Unable to detect root URL for WCT sources. Please set WCT.root before including browser.js")}}(window.WCT);var gt=window.WCT={};gt.share={},gt._ChildRunner=w,gt._config=J,gt.loadSuites=b,function(){window.addEventListener("error",function(t){ct.push(t.error)});var t=console,e=console.error;console.error=function(){if(e.apply(t,arguments),v("trackConsoleError"))throw"console.error: "+Array.prototype.join.call(arguments," ")}}(),function(){Object.keys(ft).forEach(function(t){Object.keys(ft[t]).forEach(function(e){window[e]=function n(){if(H(t,e,ft[t][e]),!window[e]||window[e]===n)throw new Error("Expected mocha.setup to define "+e);window[e].apply(window,arguments)}})})}(),function(){i("Loading environment scripts:");var t="web-component-tester/data/a11ySuite.js",e=v("environmentScripts");window.__generatedByWct||e.indexOf(t)>-1||e.push(t),e.forEach(function(t){var e=s(t,v("root"));i("Loading environment script:",e),document.write('<script src="'+encodeURI(e)+'"><\/script>')}),i("Environment scripts loaded"),v("environmentImports").forEach(function(t){var e=s(t,v("root"));i("Loading environment import:",e),document.write('<link rel="import" href="'+encodeURI(e)+'">')}),i("Environment imports loaded")}(),document.addEventListener("DOMContentLoaded",function(){i("DOMContentLoaded"),_(),z.init(function(t,e){if(t)throw t;var n=w.current(),o=n&&n.parentScope.WCT._reporter;i("parentReporter:",o);var r=g(),s=L(e,o),a=new j(r.length+1,s,o);gt._reporter=a,E(a,function(t){if(n&&n.ready(t),t)throw t;ct.forEach(function(t){a.emitOutOfBandTest("Test Suite Initialization",t)}),R(a,r,function(t){if(n&&n.done(),t)throw t})})})})}();